"""
Smart Filter Patterns

Pattern dictionaries and examples for smart filter.
Contains all regular expressions, keywords and examples
for company and name detection.
"""

# Patterns for exclusion from processing
# IMPORTANT: Only filter technical garbage, NOT business signals!
# Business signals (IPN, dates, document types) must reach Signals Service
EXCLUSION_PATTERNS = [
    # Pure technical garbage - no business value
    r"^[^\w\s]+$",  # Only special characters
    r"^(оплата|платеж|платіж|перевод|счет|квитанция|документ)$",  # Generic payment terms

    # Technical document codes - pure garbage with no business meaning
    r"^[a-f0-9]{16,}$",  # Long hex codes (16+ chars): 68ccdc4cd19cabdee2eaa56c
    r"^[a-z]{2,3}\d{6,}$",  # System codes: TV0015628, GM293232 (NOT business IDs)
    r"^\d+[a-z]{2,}$",  # Numbers with letter suffixes: 7sichey (mixed garbage)

    # Banking system codes (not business identifiers)
    r"^(iban|bic|swift|cor|correspondent)$",  # Banking technical codes

    # Time-only patterns (not dates with business meaning)
    r"^\d{1,2}:\d{2}(:\d{2})?$",  # Only time HH:MM or HH:MM:SS
    r"^\d{1,2}\s*[чh]\s*\d{1,2}\s*[хмm]?$",  # Only time in Ukrainian format
    r"^\d+\.\d+$",  # Only decimal numbers (prices, not IDs)

    # Pure prepositions and common words
    r"^(за|на|від|до|для|про|щодо|стосовно)$",  # Prepositions
    r"^(послуги|товар|товари|продукт|продукти)$",  # Common goods/services
    r"^(робота|роботи|консультація|консультації)$",  # Common work
    r"^(payment|transfer|invoice|receipt|document)$",  # English generic terms
    r"^(services|goods|products|items|work)$",  # English goods/services

    # Relative dates (not specific business dates)
    r"^(сьогодні|вчора|позавчора|завтра|післязавтра|сегодня|вчера|позавчера|послезавтра|today|yesterday|tomorrow)$",
]

# REMOVED BUSINESS SIGNALS - these must reach Signals Service:
# ❌ r"^\d+$" - could be IPN/EDRPOU
# ❌ r"^(okpo|едрпоу|edrpou|ipn|іпн|inn|інн|ogrn|огрн|kpp|кпп)$" - document type markers
# ❌ r"^\d{8,}[a-z]+$" - could be IPN with suffix
# ❌ r"^[a-z]+\d{8,}$" - could be prefixed IPN
# ❌ r"^\d{10,}$" - could be IPN numbers
# ❌ r"^[a-z]{2,4}\d{4,}[a-z]*$" - could be valid document codes
# ❌ r"^д\.р\.$" - date of birth marker
# ❌ r"^\d{4}-\d{2}-\d{2}$" - ISO dates
# ❌ r"^\d{2}\.\d{2}\.\d{4}$" - European dates
# ❌ r"^\d{2}/\d{2}/\d{4}$" - US dates
# ❌ Month name patterns - business dates

# Additional patterns for dates and time
DATE_TIME_PATTERNS = {
    "date_formats": [
        r"\b\d{4}-\d{2}-\d{2}\b",  # YYYY-MM-DD
        r"\b\d{2}\.\d{2}\.\d{4}\b",  # DD.MM.YYYY
        r"\b\d{2}/\d{2}/\d{4}\b",  # DD/MM/YYYY
        r"\b\d{1,2}\.\d{1,2}\.\d{4}\b",  # D.M.YYYY or DD.MM.YYYY
        r"\b\d{1,2}/\d{1,2}/\d{4}\b",  # D/M/YYYY or DD/MM/YYYY
        r"\b\d{4}\.\d{2}\.\d{2}\b",  # YYYY.MM.DD
        r"\b\d{4}/\d{2}/\d{2}\b",  # YYYY/MM/DD
    ],
    "month_names_ukrainian": [
        r"\b\d{1,2}\s+(січня|лютого|березня|квітня|травня|червня|липня|серпня|вересня|жовтня|листопада|грудня)\s+\d{4}\b",
        r"\b\d{1,2}\s+(січня|лютого|березня|квітня|травня|червня|липня|серпня|вересня|жовтня|листопада|грудня)\b",
    ],
    "month_names_russian": [
        r"\b\d{1,2}\s+(января|февраля|марта|апреля|мая|июня|июля|августа|сентября|октября|ноября|декабря)\s+\d{4}\b",
        r"\b\d{1,2}\s+(января|февраля|марта|апреля|мая|июня|июля|августа|сентября|октября|ноября|декабря)\b",
    ],
    "month_names_english": [
        r"\b\d{1,2}\s+(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d{4}\b",
        r"\b\d{1,2}\s+(January|February|March|April|May|June|July|August|September|October|November|December)\b",
        r"\b(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d{1,2},?\s+\d{4}\b",
    ],
    "time_formats": [
        r"\b\d{1,2}:\d{2}(:\d{2})?\b",  # HH:MM or HH:MM:SS
        r"\b\d{1,2}\.\d{2}(\.\d{2})?\b",  # HH.MM or HH.MM.SS
        r"\b\d{1,2}\s*[чh]\s*\d{1,2}\s*[хмm]\b",  # 14 ч 30 м
        r"\b\d{1,2}\s*[чh]\s*\d{1,2}\b",  # 14 ч 30
    ],
    "relative_dates": [
        r"\b(сьогодні|вчора|позавчора|завтра|післязавтра)\b",  # Ukrainian relative dates
        r"\b(сегодня|вчера|позавчера|завтра|послезавтра)\b",  # Russian relative dates
        r"\b(today|yesterday|tomorrow)\b",  # English relative dates
        r"\b(наступного|попереднього|минулого|майбутнього)\s+(тижня|місяця|року)\b",  # Ukrainian periods
        r"\b(следующего|предыдущего|прошлого|будущего)\s+(недели|месяца|года)\b",  # Russian periods
        r"\b(next|previous|last|upcoming)\s+(week|month|year)\b",  # English periods
    ],
    "date_with_context": [
        r"\b(оплата|платеж|платіж|перевод|счет|квитанция)\s+\d{1,2}[./]\d{1,2}[./]\d{4}\b",  # Payment with date
        r"\b(оплата|платеж|платіж|перевод|счет|квитанция)\s+\d{1,2}\s+(січня|лютого|березня|квітня|травня|червня|липня|серпня|вересня|жовтня|листопада|грудня)\s+\d{4}\b",
        r"\b(оплата|платеж|платіж|перевод|счет|квитанция)\s+\d{1,2}\s+(января|февраля|марта|апреля|мая|июня|июля|августа|сентября|октября|ноября|декабря)\s+\d{4}\b",
        r"\b(payment|transfer|invoice|receipt)\s+\d{1,2}[./]\d{1,2}[./]\d{4}\b",  # English payment with date
        r"\b(payment|transfer|invoice|receipt)\s+\d{1,2}\s+(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d{4}\b",
    ],
}

# Служебные слова для предварительной очистки
SERVICE_WORDS = {
    "ukrainian": [
        "оплата",
        "платеж",
        "платіж",
        "перевод",
        "счет",
        "квитанция",
        "документ",
        "за",
        "на",
        "від",
        "до",
        "для",
        "про",
        "щодо",
        "стосовно",
        "щодо",
        "стосовно",
        "та",  # Союз "та"
        "і",   # Союз "і"
        "послуги",
        "товар",
        "товари",
        "продукт",
        "продукти",
        "матеріал",
        "матеріали",
        "послуга",
        "робота",
        "роботи",
        "консультація",
        "консультації",
        "допомога",
        "підтримка",
        "обслуговування",
        "сервіс",
        "сервіси",
        "технічне",
        "технічні",
        "ремонт",
        "встановлення",
        "монтаж",
        "налагодження",
        "настроювання",
        "доставка",
        "транспортування",
        "перевезення",
        "прийом",
        "прийму",
        "приймання",
        "прийняття",
        "логістика",
        "склад",
        "зберігання",
        "пакування",
        "упаковка",
        "маркування",
        "етикетування",
        "тестування",
        "перевірка",
        "контроль",
        "аудит",
        "інспекція",
        "навчання",
        "тренінг",
        "курси",
        "семінари",
        "конференції",
        "дослідження",
        "аналіз",
        "дослідження",
        "розробка",
        "проектування",
        "дизайн",
        "планування",
        "організація",
        "управління",
        "адміністрування",
        "бухгалтерія",
        "облік",
        "звітність",
        "податки",
        "фінанси",
        "юридичні",
        "правові",
        "консультації",
        "допомога",
        "підтримка",
        "медичні",
        "лікування",
        "терапія",
        "реабілітація",
        "оздоровлення",
        "освітні",
        "навчальні",
        "виховні",
        "розвиваючі",
        "тренувальні",
        "спортивні",
        "фітнес",
        "тренування",
        "заняття",
        "активності",
        "розваги",
        "дозвілля",
        "відпочинок",
        "туризм",
        "подорожі",
        "культурні",
        "мистецькі",
        "творчі",
        "художні",
        "музичні",
        "технологічні",
        "інформаційні",
        "комп'ютерні",
        "програмні",
        "цифрові",
        "комунікаційні",
        "телекомунікаційні",
        "інтернет",
        "онлайн",
        "веб",
        "маркетингові",
        "рекламні",
        "промоційні",
        "акційні",
        "знижкові",
        "торговельні",
        "комерційні",
        "бізнес",
        "підприємницькі",
        "підприємницькі",
        "інвестиційні",
        "фінансові",
        "банківські",
        "кредитні",
        "страхові",
        "нерухомість",
        "будівництво",
        "архітектурні",
        "інженерні",
        "технічні",
        "автомобільні",
        "транспортні",
        "логістичні",
        "складські",
        "розподільчі",
        "енергетичні",
        "електричні",
        "газові",
        "нафтові",
        "хімічні",
        "металургійні",
        "машинобудівні",
        "авіаційні",
        "суднобудівні",
        "космічні",
        "оборонні",
        "безпекові",
        "охоронні",
        "детективні",
        "розвідувальні",
        "наукові",
        "дослідницькі",
        "лабораторні",
        "експериментальні",
        "тестові",
        "медичні",
        "фармацевтичні",
        "ветеринарні",
        "сільськогосподарські",
        "екологічні",
        "харчові",
        "ресторанні",
        "готельні",
        "туристичні",
        "розважальні",
        "спортивні",
        "фітнес",
        "оздоровчі",
        "реабілітаційні",
        "санаторні",
        "освітні",
        "навчальні",
        "виховні",
        "дошкільні",
        "шкільні",
        "університетські",
        "академічні",
        "наукові",
        "дослідницькі",
        "лабораторні",
        "культурні",
        "мистецькі",
        "художні",
        "музичні",
        "театральні",
        "кіно",
        "телебачення",
        "радіо",
        "медіа",
        "журналістика",
        "видавничі",
        "поліграфічні",
        "друкарські",
        "книжкові",
        "газетні",
        "інтернет",
        "онлайн",
        "цифрові",
        "програмні",
        "комп'ютерні",
        "мобільні",
        "телефонні",
        "зв'язкові",
        "комунікаційні",
        "інформаційні",
    ],
    "russian": [
        "оплата",
        "платеж",
        "перевод",
        "счет",
        "квитанция",
        "документ",
        "за",
        "на",
        "от",
        "до",
        "для",
        "про",
        "относительно",
        "касательно",
        "и",  # Союз "и"
        "услуги",
        "товар",
        "товары",
        "продукт",
        "продукты",
        "материал",
        "материалы",
        "услуга",
        "работа",
        "работы",
        "консультация",
        "консультации",
        "помощь",
        "поддержка",
        "обслуживание",
        "сервис",
        "сервисы",
        "техническое",
        "технические",
        "ремонт",
        "установка",
        "монтаж",
        "наладка",
        "настройка",
        "доставка",
        "транспортировка",
        "перевозка",
        "логистика",
        "склад",
        "хранение",
        "упаковка",
        "упаковка",
        "маркировка",
        "этикетирование",
        "тестирование",
        "проверка",
        "контроль",
        "аудит",
        "инспекция",
        "обучение",
        "тренинг",
        "курсы",
        "семинары",
        "конференции",
        "исследования",
        "анализ",
        "исследования",
        "разработка",
        "проектирование",
        "дизайн",
        "планирование",
        "организация",
        "управление",
        "администрирование",
        "бухгалтерия",
        "учет",
        "отчетность",
        "налоги",
        "финансы",
        "юридические",
        "правовые",
        "консультации",
        "помощь",
        "поддержка",
        "медицинские",
        "лечение",
        "терапия",
        "реабилитация",
        "оздоровление",
        "образовательные",
        "учебные",
        "воспитательные",
        "развивающие",
        "тренировочные",
        "спортивные",
        "фитнес",
        "тренировки",
        "занятия",
        "активности",
        "развлечения",
        "досуг",
        "отдых",
        "туризм",
        "путешествия",
        "культурные",
        "художественные",
        "творческие",
        "художественные",
        "музыкальные",
        "технологические",
        "информационные",
        "компьютерные",
        "программные",
        "цифровые",
        "коммуникационные",
        "телекоммуникационные",
        "интернет",
        "онлайн",
        "веб",
        "маркетинговые",
        "рекламные",
        "промоционные",
        "акционные",
        "скидочные",
        "торговые",
        "коммерческие",
        "бизнес",
        "предпринимательские",
        "предпринимательские",
        "инвестиционные",
        "финансовые",
        "банковские",
        "кредитные",
        "страховые",
        "недвижимость",
        "строительство",
        "архитектурные",
        "инженерные",
        "технические",
        "автомобильные",
        "транспортные",
        "логистические",
        "складские",
        "распределительные",
        "энергетические",
        "электрические",
        "газовые",
        "нефтяные",
        "химические",
        "металлургические",
        "машиностроительные",
        "авиационные",
        "судостроительные",
        "космические",
        "оборонные",
        "безопасные",
        "охранные",
        "детективные",
        "разведывательные",
        "научные",
        "исследовательские",
        "лабораторные",
        "экспериментальные",
        "тестовые",
        "медицинские",
        "фармацевтические",
        "ветеринарные",
        "сельскохозяйственные",
        "экологические",
        "пищевые",
        "ресторанные",
        "гостиничные",
        "туристические",
        "развлекательные",
        "спортивные",
        "фитнес",
        "оздоровительные",
        "реабилитационные",
        "санаторные",
        "образовательные",
        "учебные",
        "воспитательные",
        "дошкольные",
        "школьные",
        "университетские",
        "академические",
        "научные",
        "исследовательские",
        "лабораторные",
        "культурные",
        "художественные",
        "художественные",
        "музыкальные",
        "театральные",
        "кино",
        "телевидение",
        "радио",
        "медиа",
        "журналистика",
        "издательские",
        "полиграфические",
        "печатные",
        "книжные",
        "газетные",
        "интернет",
        "онлайн",
        "цифровые",
        "программные",
        "компьютерные",
        "мобильные",
        "телефонные",
        "связные",
        "коммуникационные",
        "информационные",
    ],
    "english": [
        "payment",
        "transfer",
        "invoice",
        "receipt",
        "document",
        "for",
        "to",
        "from",
        "regarding",
        "concerning",
        "about",
        "and",  # Союз "and"
        "services",
        "goods",
        "products",
        "items",
        "materials",
        "supplies",
        "service",
        "work",
        "consultation",
        "consultations",
        "support",
        "maintenance",
        "repair",
        "installation",
        "setup",
        "configuration",
        "delivery",
        "shipping",
        "transportation",
        "logistics",
        "warehouse",
        "storage",
        "packaging",
        "labeling",
        "testing",
        "inspection",
        "training",
        "education",
        "courses",
        "seminars",
        "conferences",
        "research",
        "analysis",
        "development",
        "design",
        "planning",
        "management",
        "administration",
        "accounting",
        "finance",
        "taxes",
        "legal",
        "consulting",
        "help",
        "assistance",
        "support",
        "medical",
        "healthcare",
        "therapy",
        "rehabilitation",
        "wellness",
        "educational",
        "training",
        "development",
        "coaching",
        "mentoring",
        "sports",
        "fitness",
        "recreation",
        "entertainment",
        "leisure",
        "cultural",
        "artistic",
        "creative",
        "musical",
        "theatrical",
        "technological",
        "information",
        "computer",
        "software",
        "digital",
        "communication",
        "telecommunications",
        "internet",
        "online",
        "web",
        "marketing",
        "advertising",
        "promotional",
        "sales",
        "commercial",
        "business",
        "entrepreneurial",
        "investment",
        "financial",
        "banking",
        "real estate",
        "construction",
        "architectural",
        "engineering",
        "technical",
        "automotive",
        "transportation",
        "logistics",
        "warehouse",
        "distribution",
        "energy",
        "electrical",
        "gas",
        "oil",
        "chemical",
        "metallurgical",
        "machinery",
        "aviation",
        "shipbuilding",
        "aerospace",
        "defense",
        "security",
        "protection",
        "investigation",
        "intelligence",
        "scientific",
        "research",
        "laboratory",
        "experimental",
        "testing",
        "medical",
        "pharmaceutical",
        "veterinary",
        "agricultural",
        "environmental",
        "food",
        "restaurant",
        "hospitality",
        "tourism",
        "entertainment",
        "sports",
        "fitness",
        "recreation",
        "wellness",
        "rehabilitation",
        "educational",
        "academic",
        "research",
        "laboratory",
        "experimental",
        "cultural",
        "artistic",
        "musical",
        "theatrical",
        "cinematic",
        "media",
        "journalism",
        "publishing",
        "printing",
        "book",
        "internet",
        "online",
        "digital",
        "software",
        "computer",
        "mobile",
        "telecommunications",
        "communication",
        "information",
    ],
}

# Ключевые слова для определения компаний
COMPANY_KEYWORDS = {
    "ukrainian": [
        "товариство",
        "товариство з обмеженою відповідальністю",
        "тзов",
        "акціонерне товариство",
        "ат",
        "приватне акціонерне товариство",
        "пат",
        "публічне акціонерне товариство",
        "пуат",
        "кооператив",
        "кооп",
        "підприємство",
        "підпр",
        "завод",
        "фабрика",
        "компанія",
        "комп",
        "корпорація",
        "корп",
        "група",
        "холдинг",
        "консорціум",
        "організація",
        "орг",
        "фонд",
        "асоціація",
        "союз",
        "центр",
        "інститут",
        "інст",
        "лабораторія",
        "лаб",
        "агентство",
        "агент",
        "бюро",
        "служба",
        "управління",
        "упр",
        "департамент",
        "деп",
        "міністерство",
        "мін",
        "відомство",
        "банк",
        "страхова компанія",
        "страх",
        "кредитна установа",
        "інвестиційна компанія",
        "інвест",
        "торгівельна компанія",
        "торг",
        "виробнича компанія",
        "вироб",
        "будівельна компанія",
        "буд",
        "транспортна компанія",
        "трансп",
        "логістична компанія",
        "лог",
        "консалтингова компанія",
        "консалт",
        "аудит",
        "аудиторська компанія",
        "юридична компанія",
        "юр",
        "адвокатська компанія",
        "адвокат",
        "медична компанія",
        "мед",
        "фармацевтична компанія",
        "фарм",
        "технологічна компанія",
        "техн",
        "інформаційна компанія",
        "інфо",
        "телекомунікаційна компанія",
        "телеком",
        "енергетична компанія",
        "енерг",
        "нафтогазова компанія",
        "нафтогаз",
        "металургійна компанія",
        "метал",
        "хімічна компанія",
        "хім",
        "машинобудівна компанія",
        "маш",
        "автомобільна компанія",
        "авто",
        "авіаційна компанія",
        "авіа",
        "суднобудівна компанія",
        "судно",
        "космічна компанія",
        "космос",
        "оборонна компанія",
        "оборона",
        "безпека",
        "охорона",
    ],
    "russian": [
        "товарищество",
        "товарищество с ограниченной ответственностью",
        "тоо",
        "акционерное товарищество",
        "ат",
        "закрытое акционерное товарищество",
        "зат",
        "открытое акционерное товарищество",
        "оат",
        "кооператив",
        "кооп",
        "предприятие",
        "предпр",
        "завод",
        "фабрика",
        "компания",
        "комп",
        "корпорация",
        "корп",
        "группа",
        "холдинг",
        "консорциум",
        "организация",
        "орг",
        "фонд",
        "ассоциация",
        "союз",
        "центр",
        "институт",
        "инст",
        "лаборатория",
        "лаб",
        "агентство",
        "агент",
        "бюро",
        "служба",
        "управление",
        "упр",
        "департамент",
        "деп",
        "министерство",
        "мин",
        "ведомство",
        "банк",
        "страховая компания",
        "страх",
        "кредитное учреждение",
        "инвестиционная компания",
        "инвест",
        "торговая компания",
        "торг",
        "производственная компания",
        "произв",
        "строительная компания",
        "строит",
        "транспортная компания",
        "трансп",
        "логистическая компания",
        "лог",
        "консалтинговая компания",
        "консалт",
        "аудит",
        "аудиторская компания",
        "юридическая компания",
        "юр",
        "адвокатская компания",
        "адвокат",
        "медицинская компания",
        "мед",
        "фармацевтическая компания",
        "фарм",
        "технологическая компания",
        "техн",
        "информационная компания",
        "инфо",
        "телекоммуникационная компания",
        "телеком",
        "энергетическая компания",
        "энерг",
        "нефтегазовая компания",
        "нефтегаз",
        "металлургическая компания",
        "метал",
        "химическая компания",
        "хим",
        "машиностроительная компания",
        "маш",
        "автомобильная компания",
        "авто",
        "авиационная компания",
        "авиа",
        "судостроительная компания",
        "судо",
        "космическая компания",
        "космос",
        "оборонная компания",
        "оборона",
        "безопасность",
        "охрана",
    ],
    "english": [
        "limited",
        "ltd",
        "corporation",
        "corp",
        "incorporated",
        "inc",
        "company",
        "co",
        "partnership",
        "partners",
        "group",
        "holdings",
        "enterprise",
        "enterprises",
        "international",
        "intl",
        "global",
        "worldwide",
        "ww",
        "solutions",
        "services",
        "systems",
        "technologies",
        "tech",
        "industries",
        "manufacturing",
        "mfg",
        "construction",
        "const",
        "development",
        "dev",
        "investment",
        "invest",
        "financial",
        "finance",
        "banking",
        "bank",
        "insurance",
        "ins",
        "consulting",
        "consult",
        "advisory",
        "advisors",
        "management",
        "mgt",
        "trading",
        "trade",
        "commerce",
        "commercial",
        "business",
        "biz",
        "organization",
        "org",
        "foundation",
        "found",
        "institute",
        "inst",
        "center",
        "centre",
        "bureau",
        "agency",
        "department",
        "dept",
        "ministry",
        "min",
        "authority",
        "authorities",
        "commission",
        "comm",
        "board",
        "council",
        "committee",
        "associates",
        "assoc",
        "society",
        "soc",
        "union",
        "federation",
        "fed",
        "alliance",
        "coalition",
        "consortium",
        "network",
        "net",
        "platform",
        "hub",
        "lab",
        "laboratory",
        "research",
        "r&d",
        "innovation",
        "innov",
        "digital",
        "online",
        "internet",
        "web",
        "cyber",
        "data",
        "software",
        "hardware",
        "equipment",
        "machinery",
        "tools",
        "materials",
        "products",
        "goods",
        "supplies",
        "resources",
        "energy",
        "power",
        "utilities",
        "infrastructure",
        "infra",
        "transportation",
        "transport",
        "logistics",
        "supply",
        "chain",
        "distribution",
        "distrib",
        "retail",
        "wholesale",
        "marketing",
        "advertising",
        "ad",
        "media",
        "communications",
        "comm",
        "entertainment",
        "ent",
        "gaming",
        "sports",
        "fitness",
        "health",
        "medical",
        "pharmaceutical",
        "pharma",
        "biotech",
        "biotechnology",
        "agriculture",
        "agri",
        "food",
        "beverage",
        "restaurant",
        "hospitality",
        "hotel",
        "tourism",
        "travel",
        "real estate",
        "re",
        "property",
        "properties",
        "construction",
        "building",
        "build",
        "engineering",
        "eng",
        "architecture",
        "arch",
        "design",
        "creative",
        "art",
        "culture",
        "education",
        "edu",
        "training",
        "learning",
        "academy",
        "university",
        "college",
        "school",
        "institute",
        "inst",
        "research",
        "science",
        "scientific",
        "technology",
        "tech",
        "innovation",
        "innovative",
        "startup",
        "venture",
        "capital",
        "vc",
        "private",
        "public",
        "government",
        "gov",
        "military",
        "defense",
        "security",
        "safety",
        "protection",
        "monitoring",
        "surveillance",
        "intelligence",
        "intel",
        "investigation",
        "investigative",
        "detective",
        "law",
        "legal",
        "justice",
        "court",
        "judicial",
        "regulatory",
        "compliance",
        "audit",
        "accounting",
        "finance",
        "financial",
        "banking",
        "credit",
        "lending",
        "investment",
        "investing",
        "trading",
        "brokerage",
        "securities",
        "capital",
        "equity",
        "debt",
        "bond",
        "fund",
        "funds",
        "asset",
        "assets",
        "portfolio",
    ],
}

# Паттерны для определения компаний
COMPANY_PATTERNS = {
    "legal_entities": [
        r"\b(тзов|тоо|ат|пат|пуат|зат|оат|ТОВ|ТОО|АТ|ПАТ|ПУАТ|ЗАТ|ОАТ)\b",
        r"\b(ltd|llc|inc|corp|co|llp|lp|LTD|LLC|INC|CORP|CO|LLP|LP)\b",
        r"\b(товариство|товарищество|company|corporation|partnership)\b",
        r"\b(акціонерне|акционерное|акціонерне|акционерное)\s+(товариство|товарищество)\b",
        r"\b(приватне|приватное|закрите|закрытое)\s+(акціонерне|акционерное)\s+(товариство|товарищество)\b",
        r"\b(публічне|публичное|відкрите|открытое)\s+(акціонерне|акционерное)\s+(товариство|товарищество)\b",
    ],
    "business_types": [
        r"\b(компанія|компания|company|корпорація|корпорация|corporation)\b",
        r"\b(підприємство|предприятие|enterprise|завод|завод|factory|plant)\b",
        r"\b(фабрика|фабрика|factory|мануфактура|мануфактура|manufacturing)\b",
        r"\b(група|группа|group|холдинг|холдинг|holding|holdings)\b",
        r"\b(організація|организация|organization|орг|орг|org)\b",
        r"\b(фонд|фонд|fund|foundation|асоціація|ассоциация|association)\b",
        r"\b(центр|центр|center|centre|інститут|институт|institute)\b",
        r"\b(лабораторія|лаборатория|laboratory|lab|агентство|агентство|agency)\b",
        r"\b(бюро|бюро|bureau|служба|служба|service|services)\b",
        r"\b(управління|управление|management|департамент|департамент|department)\b",
        r"\b(міністерство|министерство|ministry|відомство|ведомство|authority)\b",
    ],
    "financial_institutions": [
        r"\b(банк|банк|bank|банківська|банковская|banking)\b",
        r"\b(страхова|страховая|insurance|кредитна|кредитная|credit)\b",
        r"\b(інвестиційна|инвестиционная|investment|фінансова|финансовая|financial)\b",
        r"\b(торгівельна|торговая|trading|комерційна|коммерческая|commercial)\b",
    ],
    "industry_specific": [
        r"\b(виробнича|производственная|manufacturing|будівельна|строительная|construction)\b",
        r"\b(транспортна|транспортная|transport|логістична|логистическая|logistics)\b",
        r"\b(консалтингова|консалтинговая|consulting|аудиторська|аудиторская|audit)\b",
        r"\b(юридична|юридическая|legal|медична|медицинская|medical)\b",
        r"\b(фармацевтична|фармацевтическая|pharmaceutical|технологічна|технологическая|technology)\b",
        r"\b(інформаційна|информационная|information|телекомунікаційна|телекоммуникационная|telecommunications)\b",
        r"\b(енергетична|энергетическая|energy|нафтогазова|нефтегазовая|oil|gas)\b",
        r"\b(металургійна|металлургическая|metallurgy|хімічна|химическая|chemical)\b",
        r"\b(машинобудівна|машиностроительная|machinery|автомобільна|автомобильная|automotive)\b",
        r"\b(авіаційна|авиационная|aviation|суднобудівна|судостроительная|shipbuilding)\b",
        r"\b(космічна|космическая|space|оборонна|оборонная|defense)\b",
    ],
}

# Паттерны для адресов и контактной информации
ADDRESS_PATTERNS = [
    r"\b(м\.|місто|город|city|г\.|г|гр\.|гр)\s+[а-яёіїєґa-z\s\-\']+\b",
    r"\b(вул\.|вулиця|улица|street|ул\.|ул|пр\.|проспект|prospect|пр)\s+[а-яёіїєґa-z\s\-\']+\b",
    r"\b(будинок|дом|building|буд\.|буд|д\.|д)\s+\d+[а-яёіїєґa-z]*\b",
    r"\b(квартира|квартира|apartment|кв\.|кв|к\.|к)\s+\d+\b",
    r"\b(офіс|офис|office|оф\.|оф)\s+\d+\b",
    r"\b(поверх|этаж|floor|п\.|п|эт\.|эт)\s+\d+\b",
]

# Паттерны для регистрационных номеров
REGISTRATION_PATTERNS = [
    r"\b\d{8,12}\b",  # Длинные числовые коды
    r"\b\d{2,4}\d{2,4}\d{2,4}\d{2,4}\b",  # Группы цифр
    r"\b[а-яёіїєґa-z]{2,4}\d{6,10}\b",  # Буквы + цифры
    r"\b\d{6,10}[а-яёіїєґa-z]{2,4}\b",  # Цифры + буквы
    r"\b(єдрпоу|едрпоу|edrpou|іпн|инн|inn|окпо|окпо|okpo)\s*\d+\b",
]

# Паттерны для определения имен
NAME_PATTERNS = {
    "full_names": [
        # Полное имя (Имя Фамилия Отчество)
        r"\b[А-ЯІЇЄҐ][а-яіїєґ]+\s+[А-ЯІЇЄҐ][а-яіїєґ]+\s+[А-ЯІЇЄҐ][а-яіїєґ]+\b",
        r"\b[A-Z][a-z]+\s+[A-Z][a-z]+\s+[A-Z][a-z]+\b",
        # Имя и фамилия
        r"\b[А-ЯІЇЄҐ][а-яіїєґ]+\s+[А-ЯІЇЄҐ][а-яіїєґ]+\b",
        r"\b[A-Z][a-z]+\s+[A-Z][a-z]+\b",
    ],
    "initials": [
        # Инициалы + фамилия
        r"\b[А-ЯІЇЄҐ]\.\s*[А-ЯІЇЄҐ]\.\s*[А-ЯІЇЄҐ][а-яіїєґ]+\b",
        r"\b[A-Z]\.\s*[A-Z]\.\s*[A-Z][a-z]+\b",
        # Фамилия + инициалы
        r"\b[А-ЯІЇЄҐ][а-яіїєґ]+\s+[А-ЯІЇЄҐ]\.\s*[А-ЯІЇЄҐ]\.\b",
        r"\b[A-Z][a-z]+\s+[A-Z]\.\s*[A-Z]\.\b",
    ],
    "single_names": [
        # Одиночные имена (только если в словаре)
        r"\b[А-ЯІЇЄҐ][а-яіїєґ]{2,}\b",
        r"\b[A-Z][a-z]{2,}\b",
    ],
}

# Паттерны для контекста платежей
PAYMENT_CONTEXT_PATTERNS = [
    r"(оплата|платеж|перевод|счет|квитанция)\s+[А-ЯІЇЄҐ][а-яіїєґ]+\s+[А-ЯІЇЄҐ][а-яіїєґ]+",
    r"(оплата|платеж|перевод|счет|квитанция)\s+[A-Z][a-z]+\s+[A-Z][a-z]+",
    r"[А-ЯІЇЄҐ][а-яіїєґ]+\s+[А-ЯІЇЄҐ][а-яіїєґ]+\s+(оплата|платеж|перевод|счет|квитанция)",
    r"[A-Z][a-z]+\s+[A-Z][a-z]+\s+(payment|transfer|invoice|receipt)",
]

# Фонетические паттерны для имен
PHONETIC_PATTERNS = [
    r"\b[А-ЯІЇЄҐ][а-яіїєґ]*(ов|ев|ин|ын|ский|цкий|енко|ко|ук|юк|ик|ак|ок|ич|ович|евич)\b",
    r"\b[А-ЯІЇЄҐ][а-яіїєґ]*(ова|ева|ина|ына|ская|цкая|енко|ко|ук|юк|ик|ак|ок|ич|ович|евич)\b",
    r"\b[A-Z][a-z]*(son|sen|berg|stein|man|mann|ski|sky|ova|ev|in|off|ov)\b",
]

# Общие слова, которые не являются именами
COMMON_WORDS = {
    "ukrainian": [
        "оплата",
        "платеж",
        "перевод",
        "счет",
        "квитанция",
        "документ",
        "товариство",
        "компанія",
        "банк",
        "організація",
        "місто",
        "город",
        "вулиця",
        "улица",
        "будинок",
        "дом",
        "квартира",
        "офіс",
        "офис",
        "послуги",
        "товар",
        "товари",
        "продукт",
        "продукти",
        "робота",
        "роботи",
    ],
    "russian": [
        "оплата",
        "платеж",
        "перевод",
        "счет",
        "квитанция",
        "документ",
        "товарищество",
        "компания",
        "банк",
        "организация",
        "город",
        "улица",
        "дом",
        "квартира",
        "офис",
        "услуги",
        "товар",
        "товары",
        "продукт",
        "продукты",
        "работа",
        "работы",
    ],
    "english": [
        "payment",
        "transfer",
        "invoice",
        "receipt",
        "document",
        "company",
        "bank",
        "organization",
        "city",
        "street",
        "house",
        "apartment",
        "office",
        "services",
        "goods",
        "products",
        "work",
    ],
}

# Веса для различных типов сигналов
SIGNAL_WEIGHTS = {
    "company_keywords": 0.3,
    "company_legal_entities": 0.4,
    "company_business_types": 0.3,
    "company_addresses": 0.2,
    "company_registration": 0.5,
    "company_capitalized": 0.1,
    "name_full_names": 0.6,
    "name_initials": 0.5,
    "name_single_names": 0.3,
    "name_payment_context": 0.4,
    "name_phonetic": 0.2,
    # Общие веса
    "company_weight": 0.7,  # Увеличен вес компаний
    "name_weight": 0.9,  # Увеличен вес имен для лучшего баланса
}

# Пороги для различных уровней уверенности
CONFIDENCE_THRESHOLDS = {
    "very_high": 0.9,
    "high": 0.7,
    "medium": 0.5,
    "low": 0.3,
    "very_low": 0.1,
    "min_processing_threshold": 0.001,  # Максимально снижен порог для обработки даже слабых сигналов
}

# Тестовые примеры для демонстрации
TEST_EXAMPLES = [
    {
        "text": 'Оплата за товариство з обмеженою відповідальністю "Адамз Грейн"',
        "expected": True,
        "description": "Компания с юридическим статусом",
    },
    {
        "text": "Перевод на счет National-Resources-Development Limited",
        "expected": True,
        "description": "Английская компания с Ltd",
    },
    {
        "text": 'Платеж за консалтингові послуги компанії "Технології"',
        "expected": True,
        "description": "Украинская компания с ключевым словом",
    },
    {
        "text": "Оплата за послуги Іван Петрович Сидоренко",
        "expected": True,
        "description": "Полное имя человека",
    },
    {
        "text": "Перевод на имя John Smith",
        "expected": True,
        "description": "Английское имя",
    },
    {
        "text": "Платеж за консультацію О.О. Коваленко",
        "expected": True,
        "description": "Имя с инициалами",
    },
    {
        "text": "Оплата за товар",
        "expected": False,
        "description": "Общий термин без конкретных имен",
    },
    {"text": "1234567890", "expected": False, "description": "Только цифры"},
    {
        "text": "Оплата за квитанцію",
        "expected": False,
        "description": "Только служебная информация",
    },
    # Новые примеры с датами
    {
        "text": "2024-01-15",
        "expected": False,
        "description": "Только дата в формате YYYY-MM-DD",
    },
    {
        "text": "15.01.2024",
        "expected": False,
        "description": "Только дата в формате DD.MM.YYYY",
    },
    {
        "text": "15 січня 2024",
        "expected": False,
        "description": "Только дата с названием месяца (украинский)",
    },
    {
        "text": "15 января 2024",
        "expected": False,
        "description": "Только дата с названием месяца (русский)",
    },
    {
        "text": "January 15, 2024",
        "expected": False,
        "description": "Только дата с названием месяца (английский)",
    },
    {
        "text": 'Оплата за товариство "Адамз Грейн" від 15.01.2024',
        "expected": True,
        "description": "Компания с датой - должно обрабатываться",
    },
    {
        "text": "Платеж за послуги Іван Сидоренко 15 січня 2024",
        "expected": True,
        "description": "Имя с датой - должно обрабатываться",
    },
    {"text": "сьогодні", "expected": False, "description": "Только относительная дата"},
    {"text": "вчора", "expected": False, "description": "Только относительная дата"},
    {"text": "14:30", "expected": False, "description": "Только время"},
    {
        "text": "14 ч 30 м",
        "expected": False,
        "description": "Только время в украинском формате",
    },
]
